(function(e){function t(t){for(var c,s,o=t[0],i=t[1],u=t[2],d=0,b=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&b.push(r[s][0]),r[s]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(c=!1)}c&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var c={},r={app:0},a=[];function s(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=c,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(n,c,function(t){return e[t]}.bind(null,c));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=i;a.push([4,"chunk-vendors"]),n()})({0:function(e,t){},"072a":function(e,t,n){},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t,n){e.exports=n("56d7")},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r={class:"container mt-5 mb-5"},a={class:"row justify-content-md-center"},s={class:"col-md-6 col-sm-12"},o={class:"col-md-2 col-sm-12"},i={class:"row justify-content-md-center"},u={class:"col-md-8 col-sm-12"},l={key:1,class:"fa fa-ellipsis-h"};function d(e,t,n,d,b,j){var f=Object(c["F"])("Account"),h=Object(c["F"])("Ipfs"),O=Object(c["F"])("router-view"),p=Object(c["F"])("modals-container");return Object(c["x"])(),Object(c["g"])(c["a"],null,[Object(c["h"])("div",r,[b.isReady?(Object(c["x"])(),Object(c["g"])(c["a"],{key:0},[Object(c["h"])("div",a,[Object(c["h"])("div",s,[Object(c["k"])(f)]),Object(c["h"])("div",o,[Object(c["k"])(h)])]),Object(c["h"])("div",i,[Object(c["h"])("div",u,[Object(c["k"])(O)])])],64)):(Object(c["x"])(),Object(c["g"])("i",l))]),Object(c["k"])(p)],64)}var b=n("1da1"),j=(n("96cf"),n("b0c0"),{class:"card mb-2"}),f={class:"card-body"},h=Object(c["h"])("h4",{class:"card-heading"},"Account",-1),O=["value"],p=Object(c["h"])("br",null,null,-1),v={key:2,class:"alert alert-danger"};function m(e,t,n,r,a,s){return Object(c["x"])(),Object(c["g"])("div",j,[Object(c["h"])("div",f,[h,a.isReady?(Object(c["x"])(),Object(c["g"])(c["a"],{key:0},[Object(c["R"])(Object(c["h"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.account=e}),class:"form-select"},[(Object(c["x"])(!0),Object(c["g"])(c["a"],null,Object(c["D"])(a.accounts,(function(e,t){var n;return Object(c["x"])(),Object(c["g"])("option",{key:t,value:e.address},Object(c["J"])(e.meta.isTesting?"dev":"")+" "+Object(c["J"])(e.meta.name)+" | "+Object(c["J"])(null===(n=e.meta)||void 0===n?void 0:n.source),9,O)})),128))],512),[[c["M"],a.account]]),p,Object(c["j"])(" "+Object(c["J"])(a.account)+" | "+Object(c["J"])(s.balancePrint),1)],64)):(Object(c["x"])(),Object(c["g"])("button",{key:1,onClick:t[1]||(t[1]=function(){return s.connect&&s.connect.apply(s,arguments)}),class:"btn btn-default"},"connect")),a.error?(Object(c["x"])(),Object(c["g"])("p",v,Object(c["J"])(a.error),1)):Object(c["f"])("",!0)])])}n("4c53");var g=n("36ea"),y=n("0b67"),k=new g["b"]({endpoint:"wss://kusama.rpc.robonomics.network/"});k.setAccountManager(new g["a"](y["a"]));var x=k,w=n("1349"),R={data:function(){return{isReady:!1,account:null,accounts:[],unsubscribe:null,balance:"",error:""}},created:function(){var e=this;this.connect(),x.accountManager.onReady((function(){e.isReady=!0,console.log("allow"),console.log("polkadot-js",g["a"].checkAllow("polkadot-js")),console.log("talisman",g["a"].checkAllow("talisman")),console.log("subwallet-js",g["a"].checkAllow("subwallet-js"))})),setTimeout((function(){console.log("installed"),console.log("polkadot-js",g["a"].checkInstalled("polkadot-js")),console.log("talisman",g["a"].checkInstalled("talisman")),console.log("subwallet-js",g["a"].checkInstalled("subwallet-js"))}),1e3)},computed:{balancePrint:function(){return Object(w["a"])(this.balance,{decimals:x.api.registry.chainDecimals[0],withUnit:x.api.registry.chainTokens[0]})}},watch:{account:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.unsubscribe&&t.unsubscribe(),n.next=3,x.accountManager.selectAccountByAddress(e);case 3:return n.next=5,x.account.getBalance(e,(function(e){t.balance=e.free.sub(e.feeFrozen)}));case 5:t.unsubscribe=n.sent;case 6:case"end":return n.stop()}}),n)})))()}},methods:{connect:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error="",t.prev=1,t.next=4,g["a"].initPlugin(x.accountManager.keyring,{isDevelopment:!1});case 4:e.accounts=x.accountManager.getAccounts(),e.accounts.length&&(e.account=e.accounts[0].address),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.error=t.t0.message;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},D=n("6b0d"),A=n.n(D);const J=A()(R,[["render",m]]);var C=J,S={class:"card mb-2"},I={class:"card-body"},M=Object(c["h"])("h4",{class:"card-heading"},"IPFS",-1);function P(e,t,n,r,a,s){return Object(c["x"])(),Object(c["g"])("div",S,[Object(c["h"])("div",I,[M,Object(c["h"])("h5",null,Object(c["J"])(a.status),1)])])}var U={data:function(){return{status:"Connecting",online:!1}},mounted:function(){this.getIpfsNodeInfo()},methods:{getIpfsNodeInfo:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$ipfs;case 3:n=t.sent,e.status="Connected",e.online=n.isOnline(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.status="Error: ".concat(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}};const N=A()(U,[["render",P]]);var F=N,_={name:"App",components:{Account:C,Ipfs:F},data:function(){return{isReady:!1}},created:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.run();case 2:e.isReady=!0;case 3:case"end":return t.stop()}}),t)})))()}};n("f611");const V=A()(_,[["render",d]]);var L=V,E=n("6c02");function T(e,t,n,r,a,s){var o=Object(c["F"])("Devices");return Object(c["x"])(),Object(c["e"])(o)}var B={class:"card mb-4"},H={class:"card-body"},Q=Object(c["h"])("h4",{class:"card-title"},"Your subscription",-1),$={key:0},Y={key:1},z={key:0},K=Object(c["h"])("h3",null,"Your accounts",-1),q={class:"table-responsive"},G={class:"table"},W={scope:"row"},X={class:"d-lg-none"},Z={class:"d-none d-lg-block"},ee={class:"d-lg-none"},te={class:"d-none d-lg-block"},ne={class:"text-end"},ce={class:"btn-group",role:"group"},re=["onClick","disabled"],ae=Object(c["h"])("i",{class:"fa fa-send"},null,-1),se=[ae],oe=["onClick","disabled"],ie=["onClick"],ue=Object(c["h"])("i",{class:"fa fa-remove"},null,-1),le=[ue],de={class:"text-end"},be=Object(c["h"])("span",{class:"fa fa-plus"},null,-1),je=[be],fe={colspan:"2",class:"text-end"},he=["disabled"],Oe={key:0,class:"fa fa-ellipsis-h"},pe=Object(c["j"])(" Save "),ve={key:0,class:"alert alert-danger"};function me(e,t,n,r,a,s){var o=Object(c["F"])("router-link");return Object(c["x"])(),Object(c["g"])("div",null,[Object(c["h"])("div",B,[Object(c["h"])("div",H,[Q,s.isActive?(Object(c["x"])(),Object(c["g"])("div",Y,[Object(c["h"])("div",null,[Object(c["h"])("b",null,Object(c["J"])(s.countMonth)+" Month",1)]),Object(c["h"])("div",null,"Active till: "+Object(c["J"])(s.validUntilFormat),1)])):(Object(c["x"])(),Object(c["g"])("div",$,"Not active"))])]),s.isActive?(Object(c["x"])(),Object(c["g"])("div",z,[K,Object(c["h"])("div",q,[Object(c["h"])("table",G,[Object(c["h"])("tbody",null,[(Object(c["x"])(!0),Object(c["g"])(c["a"],null,Object(c["D"])(a.devices,(function(e,t){return Object(c["x"])(),Object(c["g"])("tr",{key:t},[Object(c["h"])("td",W,[a.ha===e.address?(Object(c["x"])(),Object(c["e"])(o,{key:0,to:{name:"datalog",params:{address:e.address}}},{default:Object(c["Q"])((function(){return[Object(c["h"])("span",X,Object(c["J"])(e.address.substr(0,5))+"..."+Object(c["J"])(e.address.substr(-5)),1),Object(c["h"])("span",Z,Object(c["J"])(e.address),1)]})),_:2},1032,["to"])):(Object(c["x"])(),Object(c["g"])(c["a"],{key:1},[Object(c["h"])("span",ee,Object(c["J"])(e.address.substr(0,5))+"..."+Object(c["J"])(e.address.substr(-5)),1),Object(c["h"])("span",te,Object(c["J"])(e.address),1)],64))]),Object(c["h"])("td",ne,[Object(c["h"])("div",ce,[a.ha!==e.address?(Object(c["x"])(),Object(c["g"])("button",{key:0,onClick:function(t){return s.launch(e.address)},class:"btn btn-primary",disabled:null===a.ha},se,8,re)):Object(c["f"])("",!0),Object(c["h"])("button",{onClick:function(t){return s.setHa(e.address)},class:"btn btn-info",disabled:a.ha===e.address},[Object(c["h"])("i",{class:Object(c["r"])(["fa",[a.ha===e.address?"fa-star":"fa-star-o"]])},null,2)],8,oe),Object(c["h"])("button",{onClick:function(t){return s.remove(e.address)},class:"btn btn-danger"},le,8,ie)])])])})),128)),Object(c["h"])("tr",null,[Object(c["h"])("td",null,[Object(c["R"])(Object(c["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.newDeviceAddress=e}),placeholder:"Address",class:Object(c["r"])(["form-control",{error:a.err}])},null,2),[[c["N"],a.newDeviceAddress]])]),Object(c["h"])("td",de,[Object(c["h"])("button",{onClick:t[1]||(t[1]=function(){return s.add&&s.add.apply(s,arguments)}),class:"btn btn-success"},je)])]),Object(c["h"])("tr",null,[Object(c["h"])("td",fe,[Object(c["h"])("button",{onClick:t[2]||(t[2]=function(){return s.save&&s.save.apply(s,arguments)}),class:"btn btn-primary",disabled:!a.hasEdit||a.process},[a.process?(Object(c["x"])(),Object(c["g"])("i",Oe)):Object(c["f"])("",!0),pe],8,he)])])])])]),a.error?(Object(c["x"])(),Object(c["g"])("div",ve,Object(c["J"])(a.error),1)):Object(c["f"])("",!0)])):Object(c["f"])("",!0)])}n("d81d"),n("c740"),n("4de4"),n("d3b7");var ge=n("5d95"),ye=function(e){return Object(c["A"])("data-v-2572078d"),e=e(),Object(c["y"])(),e},ke=["onClick"],xe=ye((function(){return Object(c["h"])("i",{class:"fa fa-remove"},null,-1)})),we=[xe],Re={class:"modal__content"};function De(e,t,n,r,a,s){var o=Object(c["F"])("Launch"),i=Object(c["F"])("vue-final-modal");return Object(c["x"])(),Object(c["e"])(i,Object(c["p"])(e.$attrs,{classes:"modal-container","content-class":"modal-content"}),{default:Object(c["Q"])((function(e){var t=e.close;return[Object(c["h"])("button",{class:"btn modal__close",onClick:t},we,8,ke),Object(c["h"])("div",Re,[Object(c["k"])(o,{address:n.address,sender:n.sender},null,8,["address","sender"])])]})),_:1},16)}var Ae=Object(c["h"])("h4",null,"Launch",-1),Je={class:"mb-3"},Ce=Object(c["h"])("label",{for:"platform",class:"form-label"},"Platform",-1),Se={class:"mb-3"},Ie=Object(c["h"])("label",{for:"name",class:"form-label"},"Name",-1),Me=Object(c["h"])("h5",null,"Params",-1),Pe=Object(c["h"])("span",{class:"input-group-text"},"Name",-1),Ue=["onUpdate:modelValue"],Ne=Object(c["h"])("span",{class:"input-group-text"},"Value",-1),Fe=["onUpdate:modelValue"],_e=["onClick","disabled"],Ve=Object(c["h"])("i",{class:"fa fa-remove"},null,-1),Le=[Ve],Ee={class:"text-end mb-3"},Te=Object(c["h"])("i",{class:"fa fa-plus"},null,-1),Be=[Te],He={key:0,class:"alert alert-info"},Qe={key:1,class:"alert alert-danger"},$e={class:"text-end"},Ye=["disabled"],ze={key:0,class:"fa fa-ellipsis-h"},Ke=Object(c["j"])(" Send ");function qe(e,t,n,r,a,s){return Object(c["x"])(),Object(c["g"])("div",null,[Ae,Object(c["h"])("div",null,[Object(c["h"])("div",Je,[Ce,Object(c["R"])(Object(c["h"])("input",{id:"platform","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.platform=e}),placeholder:"",class:"form-control"},null,512),[[c["N"],a.platform]])]),Object(c["h"])("div",Se,[Ie,Object(c["R"])(Object(c["h"])("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),placeholder:"",class:"form-control"},null,512),[[c["N"],a.name]])]),Me,(Object(c["x"])(!0),Object(c["g"])(c["a"],null,Object(c["D"])(a.params,(function(e,t){return Object(c["x"])(),Object(c["g"])("div",{class:"input-group mb-3",key:t},[Pe,Object(c["R"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.name=t},class:"form-control"},null,8,Ue),[[c["N"],e.name]]),Ne,Object(c["R"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.value=t},class:"form-control"},null,8,Fe),[[c["N"],e.value]]),Object(c["h"])("button",{onClick:function(e){return s.removeParam(t)},class:"btn btn-danger",disabled:0===t},Le,8,_e)])})),128)),Object(c["h"])("div",Ee,[Object(c["h"])("button",{onClick:t[2]||(t[2]=function(){return s.addParam&&s.addParam.apply(s,arguments)}),class:"btn btn-success"},Be)]),a.message?(Object(c["x"])(),Object(c["g"])("div",He,Object(c["J"])(a.message),1)):Object(c["f"])("",!0),a.error?(Object(c["x"])(),Object(c["g"])("div",Qe,Object(c["J"])(a.error),1)):Object(c["f"])("",!0),Object(c["h"])("div",$e,[Object(c["h"])("button",{onClick:t[3]||(t[3]=function(){return s.save&&s.save.apply(s,arguments)}),class:"btn btn-primary",disabled:a.process},[a.process?(Object(c["x"])(),Object(c["g"])("i",ze)):Object(c["f"])("",!0),Ke],8,Ye)])])])}var Ge=n("b85c"),We=(n("e9c4"),n("a434"),n("d9e2"),n("25f0"),n("f993")),Xe=n("bc3a"),Ze=n.n(Xe),et=null;function tt(e){return nt.apply(this,arguments)}function nt(){return nt=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==et){e.next=4;break}return e.next=3,Object(We["create"])(t);case 3:et=e.sent;case 4:return e.abrupt("return",et);case 5:case"end":return e.stop()}}),e)}))),nt.apply(this,arguments)}function ct(e,t){return rt.apply(this,arguments)}function rt(){return rt=Object(b["a"])(regeneratorRuntime.mark((function e(t,n){var c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==et){e.next=2;break}throw new Error("ipfs not initialized");case 2:return c={path:t,content:n},e.next=5,et.add(c);case 5:return r=e.sent,e.abrupt("return",r.cid.toString());case 7:case"end":return e.stop()}}),e)}))),rt.apply(this,arguments)}function at(e){return st.apply(this,arguments)}function st(){return st=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ze.a.get("https://ipfs.io/ipfs/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),st.apply(this,arguments)}var ot={install:function(e,t){e.config.globalProperties.$ipfs=tt(t)}},it={props:["address","sender"],data:function(){return{platform:"",name:"",params:[],error:null,message:null,process:!1}},created:function(){this.params.push({name:"id",value:""})},methods:{save:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,c,r,a,s,o,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.message=null,e.error=null,e.process=!0,t.prev=3,n={},c=Object(Ge["a"])(e.params);try{for(c.s();!(r=c.n()).done;)a=r.value,n[a.name]=a.value}catch(l){c.e(l)}finally{c.f()}return s={platform:e.platform,name:e.name,params:n},t.next=10,ct("launch",JSON.stringify(s));case 10:return o=t.sent,t.next=13,x.launch.send(e.address,g["c"].cidToHex(o));case 13:return i=t.sent,t.next=16,x.accountManager.signAndSend(i);case 16:u=t.sent,console.log(u),e.process=!1,e.message="Saved to block ".concat(u.blockNumber),t.next=27;break;case 22:t.prev=22,t.t0=t["catch"](3),console.log(t.t0),e.error=t.t0.message,e.process=!1;case 27:case"end":return t.stop()}}),t,null,[[3,22]])})))()},addParam:function(){this.params.push({name:"",value:""})},removeParam:function(e){this.params.splice(e,1)}}};const ut=A()(it,[["render",qe]]);var lt=ut,dt={props:["address","sender"],components:{Launch:lt}};n("caed"),n("a6eb");const bt=A()(dt,[["render",De],["__scopeId","data-v-2572078d"]]);var jt=bt,ft={data:function(){return{owner:null,subscription:null,devices:[],newDeviceAddress:"",err:!1,error:null,process:!1,hasEdit:!1,ha:null}},computed:{countMonth:function(){if(null===this.subscription)return 0;var e=0;return this.subscription.kind.isDaily&&(e=this.subscription.kind.value.days.toNumber()),e/30},validUntil:function(){if(null===this.subscription)return!1;var e=this.subscription.issueTime.toNumber(),t=0;return this.subscription.kind.isDaily&&(t=this.subscription.kind.value.days.toNumber()),e+864e5*t},validUntilFormat:function(){return null===this.subscription?"-":new Date(this.validUntil).toLocaleString()},isActive:function(){return!(null===this.subscription||Date.now()>this.validUntil)}},created:function(){var e=this;this.ha=localStorage.getItem("ha")||null,x.accountManager.account&&(this.owner=x.accountManager.account.address,this.loadLadger(),this.loadDevices()),this.unsubscribe=x.accountManager.onChange((function(t){e.subscription=null,e.owner=t.address,e.loadLadger(),e.loadDevices()}))},methods:{loadLadger:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.rws.getLedger(e.owner);case 2:n=t.sent,n.isEmpty||(e.subscription=n.value);case 4:case"end":return t.stop()}}),t)})))()},loadDevices:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.rws.getDevices(e.owner);case 2:n=t.sent,e.devices=n.map((function(e){return{address:e.toHuman()}}));case 4:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=null,e.process=!0,t.prev=2,t.next=5,x.rws.setDevices(e.devices.map((function(e){return e.address})));case 5:return n=t.sent,t.next=8,x.accountManager.signAndSend(n);case 8:c=t.sent,console.log("saved block",c.block,c.tx),e.loadDevices(),e.process=!1,t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](2),console.log(t.t0),e.error=t.t0.message,e.process=!1;case 19:e.hasEdit=!1;case 20:case"end":return t.stop()}}),t,null,[[2,14]])})))()},launch:function(e){this.$vfm.show({component:jt,bind:{address:this.ha,sender:e}})},add:function(){var e=this;this.err=!1,this.newDeviceAddress&&48===this.newDeviceAddress.length&&this.devices.findIndex((function(t){return t.address===e.newDeviceAddress}))<0&&Object(ge["a"])(this.newDeviceAddress,x.api.registry.chainSS58)[0]?(this.devices.push({address:this.newDeviceAddress}),this.newDeviceAddress="",this.hasEdit=!0):this.err=!0},remove:function(e){this.devices=this.devices.filter((function(t){return t.address!==e})),this.hasEdit=!0},setHa:function(e){localStorage.setItem("ha",e),this.ha=e}}};const ht=A()(ft,[["render",me]]);var Ot=ht,pt={components:{Devices:Ot}};const vt=A()(pt,[["render",T]]);var mt=vt;function gt(e,t,n,r,a,s){var o=Object(c["F"])("Datalog",!0);return Object(c["x"])(),Object(c["g"])("div",null,[Object(c["k"])(o,{address:n.address},null,8,["address"])])}var yt={class:"mt-4"},kt={class:"row"},xt=Object(c["h"])("div",{class:"col-md-6"},[Object(c["h"])("h3",null,"Datalog")],-1),wt={class:"col-md-6 text-end pt-2"},Rt=Object(c["j"])("Back"),Dt={key:0},At={class:"card mt-4 mb-4"},Jt={class:"card-body"},Ct=Object(c["h"])("h4",{class:"card-title"},"Your secret key for decrypt message",-1),St={key:0,class:"alert alert-warning mt-2"},It={class:"table"},Mt={style:{width:"150px"}},Pt={class:"text-left"},Ut=["title"],Nt=["title"],Ft={key:2},_t={class:"text-right",style:{width:"100px"}},Vt=["onClick"],Lt=["onClick"];function Et(e,t,n,r,a,s){var o=Object(c["F"])("router-link");return Object(c["x"])(),Object(c["g"])("div",yt,[Object(c["h"])("div",kt,[xt,Object(c["h"])("div",wt,[Object(c["k"])(o,{to:{name:"main"}},{default:Object(c["Q"])((function(){return[Rt]})),_:1})])]),a.log.length?(Object(c["x"])(),Object(c["g"])("div",Dt,[Object(c["h"])("div",At,[Object(c["h"])("div",Jt,[Ct,Object(c["R"])(Object(c["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.uri=e}),type:"password",class:"form-control",placeholder:"secret"},null,512),[[c["N"],a.uri]]),s.validateUri?Object(c["f"])("",!0):(Object(c["x"])(),Object(c["g"])("div",St," Input your secret key "))])]),Object(c["h"])("table",It,[Object(c["h"])("tbody",null,[(Object(c["x"])(!0),Object(c["g"])(c["a"],null,Object(c["D"])(a.log,(function(e,t){return Object(c["x"])(),Object(c["g"])("tr",{key:t},[Object(c["h"])("td",Mt,Object(c["J"])(e[0]),1),Object(c["h"])("td",Pt,[null===e[2]?(Object(c["x"])(),Object(c["g"])("div",{key:0,title:e[1]},Object(c["J"])(e[1].substr(0,5))+"..."+Object(c["J"])(e[1].substr(-5)),9,Ut)):Object(c["f"])("",!0),e[2]&&null===e[3]?(Object(c["x"])(),Object(c["g"])("div",{key:1,title:e[2]},Object(c["J"])(e[2].substr(0,5))+"..."+Object(c["J"])(e[2].substr(-5)),9,Nt)):Object(c["f"])("",!0),e[3]?(Object(c["x"])(),Object(c["g"])("code",Ft,Object(c["J"])(e[3]),1)):Object(c["f"])("",!0)]),Object(c["h"])("td",_t,[null===e[2]&&"Qm"===e[1].substr(0,2)?(Object(c["x"])(),Object(c["g"])("button",{key:0,onClick:function(e){return s.readByIndex(t)},class:"btn btn-success"}," read ",8,Vt)):Object(c["f"])("",!0),s.validateUri&&e[2]&&null===e[3]?(Object(c["x"])(),Object(c["g"])("button",{key:1,onClick:function(e){return s.decryptByIndex(t)},class:"btn btn-success"}," decrypt ",8,Lt)):Object(c["f"])("",!0)])])})),128))])])])):Object(c["f"])("",!0)])}var Tt=n("19ef"),Bt=n("ee3e"),Ht=Bt.Keyring,Qt=n("fe84"),$t={props:["address"],data:function(){return{log:[],uri:""}},created:function(){this.read()},computed:{account:function(){if(this.uri)try{var e=new Ht({type:"sr25519"});return e.addFromUri(this.uri)}catch(t){console.log(t)}return null},validateUri:function(){return!(!this.account||Object(Tt["a"])(this.address)!==Object(Tt["a"])(this.account.address))}},methods:{read:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.datalog.read(e.address);case 2:n=t.sent,e.log=n.map((function(e){return[new Date(e[0].toNumber()).toLocaleString(),e[1].toHuman(),null,null]}));case 4:case"end":return t.stop()}}),t)})))()},readByIndex:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,at(t.log[e][1]);case 3:t.log[e][2]=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},decryptByIndex:function(e){try{this.log[e][3]=this.decrypt(this.log[e][2])}catch(t){console.log(t)}},decrypt:function(e){var t=this.account.decryptMessage(e,this.account.publicKey);return Qt.u8aToString(t)}}};const Yt=A()($t,[["render",Et]]);var zt=Yt,Kt={props:["address"],components:{Datalog:zt}};const qt=A()(Kt,[["render",gt]]);var Gt=qt,Wt=[{path:"/",name:"main",component:mt},{path:"/datalog/:address",name:"datalog",component:Gt,props:!0}],Xt=Object(E["a"])({history:Object(E["b"])(),routes:Wt}),Zt=n("43df");Object(c["d"])(L).use(Xt).use(Zt["a"]).use(ot).mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){},a6eb:function(e,t,n){"use strict";n("072a")},caed:function(e,t,n){"use strict";n("d62a")},d1bd:function(e,t,n){},d62a:function(e,t,n){},f611:function(e,t,n){"use strict";n("d1bd")}});
//# sourceMappingURL=app.0c9f525e.js.map